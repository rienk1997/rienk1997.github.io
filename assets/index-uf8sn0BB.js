(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Yr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const J={},Lt=[],Be=()=>{},da=()=>!1,Ks=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Xr=t=>t.startsWith("onUpdate:"),ae=Object.assign,Zr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},pa=Object.prototype.hasOwnProperty,W=(t,e)=>pa.call(t,e),j=Array.isArray,Dt=t=>Vs(t)==="[object Map]",Oi=t=>Vs(t)==="[object Set]",L=t=>typeof t=="function",ne=t=>typeof t=="string",ut=t=>typeof t=="symbol",Z=t=>t!==null&&typeof t=="object",Pi=t=>(Z(t)||L(t))&&L(t.then)&&L(t.catch),Ai=Object.prototype.toString,Vs=t=>Ai.call(t),ga=t=>Vs(t).slice(8,-1),Ci=t=>Vs(t)==="[object Object]",en=t=>ne(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,es=Yr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ws=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},_a=/-(\w)/g,ct=Ws(t=>t.replace(_a,(e,s)=>s?s.toUpperCase():"")),ma=/\B([A-Z])/g,Et=Ws(t=>t.replace(ma,"-$1").toLowerCase()),$i=Ws(t=>t.charAt(0).toUpperCase()+t.slice(1)),hr=Ws(t=>t?`on${$i(t)}`:""),at=(t,e)=>!Object.is(t,e),$s=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},ji=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Ar=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let An;const zs=()=>An||(An=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function tn(t){if(j(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=ne(r)?wa(r):tn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(ne(t)||Z(t))return t}const va=/;(?![^(]*\))/g,ya=/:([^]+)/,ba=/\/\*[^]*?\*\//g;function wa(t){const e={};return t.replace(ba,"").split(va).forEach(s=>{if(s){const r=s.split(ya);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function it(t){let e="";if(ne(t))e=t;else if(j(t))for(let s=0;s<t.length;s++){const r=it(t[s]);r&&(e+=r+" ")}else if(Z(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Sa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ka=Yr(Sa);function Ri(t){return!!t||t===""}const Ii=t=>!!(t&&t.__v_isRef===!0),je=t=>ne(t)?t:t==null?"":j(t)||Z(t)&&(t.toString===Ai||!L(t.toString))?Ii(t)?je(t.value):JSON.stringify(t,Li,2):String(t),Li=(t,e)=>Ii(e)?Li(t,e.value):Dt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[fr(r,i)+" =>"]=n,s),{})}:Oi(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>fr(s))}:ut(e)?fr(e):Z(e)&&!j(e)&&!Ci(e)?String(e):e,fr=(t,e="")=>{var s;return ut(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pe;class Di{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pe,!e&&pe&&(this.index=(pe.scopes||(pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=pe;try{return pe=this,e()}finally{pe=s}}}on(){pe=this}off(){pe=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Ui(t){return new Di(t)}function Mi(){return pe}function xa(t,e=!1){pe&&pe.cleanups.push(t)}let X;const dr=new WeakSet;class Fi{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pe&&pe.active&&pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,dr.has(this)&&(dr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Bi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Cn(this),Hi(this);const e=X,s=Re;X=this,Re=!0;try{return this.fn()}finally{qi(this),X=e,Re=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)nn(e);this.deps=this.depsTail=void 0,Cn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?dr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cr(this)&&this.run()}get dirty(){return Cr(this)}}let Ni=0,ts,ss;function Bi(t,e=!1){if(t.flags|=8,e){t.next=ss,ss=t;return}t.next=ts,ts=t}function sn(){Ni++}function rn(){if(--Ni>0)return;if(ss){let e=ss;for(ss=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;ts;){let e=ts;for(ts=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Hi(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function qi(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),nn(r),Ea(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Cr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ki(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ki(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===hs))return;t.globalVersion=hs;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Cr(t)){t.flags&=-3;return}const s=X,r=Re;X=t,Re=!0;try{Hi(t);const n=t.fn(t._value);(e.version===0||at(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{X=s,Re=r,qi(t),t.flags&=-3}}function nn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)nn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ea(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Re=!0;const Vi=[];function ht(){Vi.push(Re),Re=!1}function ft(){const t=Vi.pop();Re=t===void 0?!0:t}function Cn(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=X;X=void 0;try{e()}finally{X=s}}}let hs=0;class Ta{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class on{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!X||!Re||X===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==X)s=this.activeLink=new Ta(X,this),X.deps?(s.prevDep=X.depsTail,X.depsTail.nextDep=s,X.depsTail=s):X.deps=X.depsTail=s,Wi(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=X.depsTail,s.nextDep=void 0,X.depsTail.nextDep=s,X.depsTail=s,X.deps===s&&(X.deps=r)}return s}trigger(e){this.version++,hs++,this.notify(e)}notify(e){sn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{rn()}}}function Wi(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Wi(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Ls=new WeakMap,wt=Symbol(""),$r=Symbol(""),fs=Symbol("");function ue(t,e,s){if(Re&&X){let r=Ls.get(t);r||Ls.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new on),n.map=r,n.key=s),n.track()}}function ze(t,e,s,r,n,i){const o=Ls.get(t);if(!o){hs++;return}const a=l=>{l&&l.trigger()};if(sn(),e==="clear")o.forEach(a);else{const l=j(t),u=l&&en(s);if(l&&s==="length"){const c=Number(r);o.forEach((f,p)=>{(p==="length"||p===fs||!ut(p)&&p>=c)&&a(f)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(fs)),e){case"add":l?u&&a(o.get("length")):(a(o.get(wt)),Dt(t)&&a(o.get($r)));break;case"delete":l||(a(o.get(wt)),Dt(t)&&a(o.get($r)));break;case"set":Dt(t)&&a(o.get(wt));break}}rn()}function Oa(t,e){const s=Ls.get(t);return s&&s.get(e)}function Pt(t){const e=V(t);return e===t?e:(ue(e,"iterate",fs),Oe(t)?e:e.map(he))}function Js(t){return ue(t=V(t),"iterate",fs),t}const Pa={__proto__:null,[Symbol.iterator](){return pr(this,Symbol.iterator,he)},concat(...t){return Pt(this).concat(...t.map(e=>j(e)?Pt(e):e))},entries(){return pr(this,"entries",t=>(t[1]=he(t[1]),t))},every(t,e){return Ve(this,"every",t,e,void 0,arguments)},filter(t,e){return Ve(this,"filter",t,e,s=>s.map(he),arguments)},find(t,e){return Ve(this,"find",t,e,he,arguments)},findIndex(t,e){return Ve(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ve(this,"findLast",t,e,he,arguments)},findLastIndex(t,e){return Ve(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ve(this,"forEach",t,e,void 0,arguments)},includes(...t){return gr(this,"includes",t)},indexOf(...t){return gr(this,"indexOf",t)},join(t){return Pt(this).join(t)},lastIndexOf(...t){return gr(this,"lastIndexOf",t)},map(t,e){return Ve(this,"map",t,e,void 0,arguments)},pop(){return Jt(this,"pop")},push(...t){return Jt(this,"push",t)},reduce(t,...e){return $n(this,"reduce",t,e)},reduceRight(t,...e){return $n(this,"reduceRight",t,e)},shift(){return Jt(this,"shift")},some(t,e){return Ve(this,"some",t,e,void 0,arguments)},splice(...t){return Jt(this,"splice",t)},toReversed(){return Pt(this).toReversed()},toSorted(t){return Pt(this).toSorted(t)},toSpliced(...t){return Pt(this).toSpliced(...t)},unshift(...t){return Jt(this,"unshift",t)},values(){return pr(this,"values",he)}};function pr(t,e,s){const r=Js(t),n=r[e]();return r!==t&&!Oe(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Aa=Array.prototype;function Ve(t,e,s,r,n,i){const o=Js(t),a=o!==t&&!Oe(t),l=o[e];if(l!==Aa[e]){const f=l.apply(t,i);return a?he(f):f}let u=s;o!==t&&(a?u=function(f,p){return s.call(this,he(f),p,t)}:s.length>2&&(u=function(f,p){return s.call(this,f,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function $n(t,e,s,r){const n=Js(t);let i=s;return n!==t&&(Oe(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,he(a),l,t)}),n[e](i,...r)}function gr(t,e,s){const r=V(t);ue(r,"iterate",fs);const n=r[e](...s);return(n===-1||n===!1)&&cn(s[0])?(s[0]=V(s[0]),r[e](...s)):n}function Jt(t,e,s=[]){ht(),sn();const r=V(t)[e].apply(t,s);return rn(),ft(),r}const Ca=Yr("__proto__,__v_isRef,__isVue"),zi=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ut));function $a(t){ut(t)||(t=String(t));const e=V(this);return ue(e,"has",t),e.hasOwnProperty(t)}class Ji{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Ba:Xi:i?Yi:Qi).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=j(e);if(!n){let l;if(o&&(l=Pa[s]))return l;if(s==="hasOwnProperty")return $a}const a=Reflect.get(e,s,se(e)?e:r);return(ut(s)?zi.has(s):Ca(s))||(n||ue(e,"get",s),i)?a:se(a)?o&&en(s)?a:a.value:Z(a)?n?Zi(a):Gs(a):a}}class Gi extends Ji{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=kt(i);if(!Oe(r)&&!kt(r)&&(i=V(i),r=V(r)),!j(e)&&se(i)&&!se(r))return l?!1:(i.value=r,!0)}const o=j(e)&&en(s)?Number(s)<e.length:W(e,s),a=Reflect.set(e,s,r,se(e)?e:n);return e===V(n)&&(o?at(r,i)&&ze(e,"set",s,r):ze(e,"add",s,r)),a}deleteProperty(e,s){const r=W(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&ze(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!ut(s)||!zi.has(s))&&ue(e,"has",s),r}ownKeys(e){return ue(e,"iterate",j(e)?"length":wt),Reflect.ownKeys(e)}}class ja extends Ji{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Ra=new Gi,Ia=new ja,La=new Gi(!0);const jr=t=>t,xs=t=>Reflect.getPrototypeOf(t);function Da(t,e,s){return function(...r){const n=this.__v_raw,i=V(n),o=Dt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?jr:e?Rr:he;return!e&&ue(i,"iterate",l?$r:wt),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[c(f[0]),c(f[1])]:c(f),done:p}},[Symbol.iterator](){return this}}}}function Es(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ua(t,e){const s={get(n){const i=this.__v_raw,o=V(i),a=V(n);t||(at(n,a)&&ue(o,"get",n),ue(o,"get",a));const{has:l}=xs(o),u=e?jr:t?Rr:he;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&ue(V(n),"iterate",wt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=V(i),a=V(n);return t||(at(n,a)&&ue(o,"has",n),ue(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=V(a),u=e?jr:t?Rr:he;return!t&&ue(l,"iterate",wt),a.forEach((c,f)=>n.call(i,u(c),u(f),o))}};return ae(s,t?{add:Es("add"),set:Es("set"),delete:Es("delete"),clear:Es("clear")}:{add(n){!e&&!Oe(n)&&!kt(n)&&(n=V(n));const i=V(this);return xs(i).has.call(i,n)||(i.add(n),ze(i,"add",n,n)),this},set(n,i){!e&&!Oe(i)&&!kt(i)&&(i=V(i));const o=V(this),{has:a,get:l}=xs(o);let u=a.call(o,n);u||(n=V(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?at(i,c)&&ze(o,"set",n,i):ze(o,"add",n,i),this},delete(n){const i=V(this),{has:o,get:a}=xs(i);let l=o.call(i,n);l||(n=V(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&ze(i,"delete",n,void 0),u},clear(){const n=V(this),i=n.size!==0,o=n.clear();return i&&ze(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Da(n,t,e)}),s}function an(t,e){const s=Ua(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(W(s,n)&&n in r?s:r,n,i)}const Ma={get:an(!1,!1)},Fa={get:an(!1,!0)},Na={get:an(!0,!1)};const Qi=new WeakMap,Yi=new WeakMap,Xi=new WeakMap,Ba=new WeakMap;function Ha(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qa(t){return t.__v_skip||!Object.isExtensible(t)?0:Ha(ga(t))}function Gs(t){return kt(t)?t:ln(t,!1,Ra,Ma,Qi)}function Ka(t){return ln(t,!1,La,Fa,Yi)}function Zi(t){return ln(t,!0,Ia,Na,Xi)}function ln(t,e,s,r,n){if(!Z(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=qa(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function lt(t){return kt(t)?lt(t.__v_raw):!!(t&&t.__v_isReactive)}function kt(t){return!!(t&&t.__v_isReadonly)}function Oe(t){return!!(t&&t.__v_isShallow)}function cn(t){return t?!!t.__v_raw:!1}function V(t){const e=t&&t.__v_raw;return e?V(e):t}function un(t){return!W(t,"__v_skip")&&Object.isExtensible(t)&&ji(t,"__v_skip",!0),t}const he=t=>Z(t)?Gs(t):t,Rr=t=>Z(t)?Zi(t):t;function se(t){return t?t.__v_isRef===!0:!1}function Ge(t){return Va(t,!1)}function Va(t,e){return se(t)?t:new Wa(t,e)}class Wa{constructor(e,s){this.dep=new on,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:V(e),this._value=s?e:he(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Oe(e)||kt(e);e=r?e:V(e),at(e,s)&&(this._rawValue=e,this._value=r?e:he(e),this.dep.trigger())}}function Fe(t){return se(t)?t.value:t}const za={get:(t,e,s)=>e==="__v_raw"?t:Fe(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return se(n)&&!se(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function eo(t){return lt(t)?t:new Proxy(t,za)}function Ja(t){const e=j(t)?new Array(t.length):{};for(const s in t)e[s]=Qa(t,s);return e}class Ga{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Oa(V(this._object),this._key)}}function Qa(t,e,s){const r=t[e];return se(r)?r:new Ga(t,e,s)}class Ya{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new on(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&X!==this)return Bi(this,!0),!0}get value(){const e=this.dep.track();return Ki(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Xa(t,e,s=!1){let r,n;return L(t)?r=t:(r=t.get,n=t.set),new Ya(r,n,s)}const Ts={},Ds=new WeakMap;let vt;function Za(t,e=!1,s=vt){if(s){let r=Ds.get(s);r||Ds.set(s,r=[]),r.push(t)}}function el(t,e,s=J){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=O=>n?O:Oe(O)||n===!1||n===0?Je(O,1):Je(O);let c,f,p,_,x=!1,T=!1;if(se(t)?(f=()=>t.value,x=Oe(t)):lt(t)?(f=()=>u(t),x=!0):j(t)?(T=!0,x=t.some(O=>lt(O)||Oe(O)),f=()=>t.map(O=>{if(se(O))return O.value;if(lt(O))return u(O);if(L(O))return l?l(O,2):O()})):L(t)?e?f=l?()=>l(t,2):t:f=()=>{if(p){ht();try{p()}finally{ft()}}const O=vt;vt=c;try{return l?l(t,3,[_]):t(_)}finally{vt=O}}:f=Be,e&&n){const O=f,I=n===!0?1/0:n;f=()=>Je(O(),I)}const A=Mi(),R=()=>{c.stop(),A&&A.active&&Zr(A.effects,c)};if(i&&e){const O=e;e=(...I)=>{O(...I),R()}}let N=T?new Array(t.length).fill(Ts):Ts;const U=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(e){const I=c.run();if(n||x||(T?I.some((Ke,le)=>at(Ke,N[le])):at(I,N))){p&&p();const Ke=vt;vt=c;try{const le=[I,N===Ts?void 0:T&&N[0]===Ts?[]:N,_];l?l(e,3,le):e(...le),N=I}finally{vt=Ke}}}else c.run()};return a&&a(U),c=new Fi(f),c.scheduler=o?()=>o(U,!1):U,_=O=>Za(O,!1,c),p=c.onStop=()=>{const O=Ds.get(c);if(O){if(l)l(O,4);else for(const I of O)I();Ds.delete(c)}},e?r?U(!0):N=c.run():o?o(U.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function Je(t,e=1/0,s){if(e<=0||!Z(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,se(t))Je(t.value,e,s);else if(j(t))for(let r=0;r<t.length;r++)Je(t[r],e,s);else if(Oi(t)||Dt(t))t.forEach(r=>{Je(r,e,s)});else if(Ci(t)){for(const r in t)Je(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Je(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ms(t,e,s,r){try{return r?t(...r):t()}catch(n){Qs(n,e,s)}}function qe(t,e,s,r){if(L(t)){const n=ms(t,e,s,r);return n&&Pi(n)&&n.catch(i=>{Qs(i,e,s)}),n}if(j(t)){const n=[];for(let i=0;i<t.length;i++)n.push(qe(t[i],e,s,r));return n}}function Qs(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||J;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}a=a.parent}if(i){ht(),ms(i,null,10,[t,l,u]),ft();return}}tl(t,s,n,r,o)}function tl(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const ge=[];let Me=-1;const Ut=[];let tt=null,Rt=0;const to=Promise.resolve();let Us=null;function so(t){const e=Us||to;return t?e.then(this?t.bind(this):t):e}function sl(t){let e=Me+1,s=ge.length;for(;e<s;){const r=e+s>>>1,n=ge[r],i=ds(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function hn(t){if(!(t.flags&1)){const e=ds(t),s=ge[ge.length-1];!s||!(t.flags&2)&&e>=ds(s)?ge.push(t):ge.splice(sl(e),0,t),t.flags|=1,ro()}}function ro(){Us||(Us=to.then(io))}function rl(t){j(t)?Ut.push(...t):tt&&t.id===-1?tt.splice(Rt+1,0,t):t.flags&1||(Ut.push(t),t.flags|=1),ro()}function jn(t,e,s=Me+1){for(;s<ge.length;s++){const r=ge[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ge.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function no(t){if(Ut.length){const e=[...new Set(Ut)].sort((s,r)=>ds(s)-ds(r));if(Ut.length=0,tt){tt.push(...e);return}for(tt=e,Rt=0;Rt<tt.length;Rt++){const s=tt[Rt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}tt=null,Rt=0}}const ds=t=>t.id==null?t.flags&2?-1:1/0:t.id;function io(t){try{for(Me=0;Me<ge.length;Me++){const e=ge[Me];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ms(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Me<ge.length;Me++){const e=ge[Me];e&&(e.flags&=-2)}Me=-1,ge.length=0,no(),Us=null,(ge.length||Ut.length)&&io()}}let xe=null,oo=null;function Ms(t){const e=xe;return xe=t,oo=t&&t.type.__scopeId||null,e}function nl(t,e=xe,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Bn(-1);const i=Ms(e);let o;try{o=t(...n)}finally{Ms(i),r._d&&Bn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Rn(t,e){if(xe===null)return t;const s=tr(xe),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=J]=e[n];i&&(L(i)&&(i={mounted:i,updated:i}),i.deep&&Je(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function gt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ht(),qe(l,s,8,[t.el,a,t,e]),ft())}}const il=Symbol("_vte"),ol=t=>t.__isTeleport;function fn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,fn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ys(t,e){return L(t)?ae({name:t.name},e,{setup:t}):t}function ao(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Fs(t,e,s,r,n=!1){if(j(t)){t.forEach((x,T)=>Fs(x,e&&(j(e)?e[T]:e),s,r,n));return}if(rs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Fs(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?tr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===J?a.refs={}:a.refs,f=a.setupState,p=V(f),_=f===J?()=>!1:x=>W(p,x);if(u!=null&&u!==l&&(ne(u)?(c[u]=null,_(u)&&(f[u]=null)):se(u)&&(u.value=null)),L(l))ms(l,a,12,[o,c]);else{const x=ne(l),T=se(l);if(x||T){const A=()=>{if(t.f){const R=x?_(l)?f[l]:c[l]:l.value;n?j(R)&&Zr(R,i):j(R)?R.includes(i)||R.push(i):x?(c[l]=[i],_(l)&&(f[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else x?(c[l]=o,_(l)&&(f[l]=o)):T&&(l.value=o,t.k&&(c[t.k]=o))};o?(A.id=-1,Se(A,s)):A()}}}zs().requestIdleCallback;zs().cancelIdleCallback;const rs=t=>!!t.type.__asyncLoader,lo=t=>t.type.__isKeepAlive;function al(t,e){co(t,"a",e)}function ll(t,e){co(t,"da",e)}function co(t,e,s=fe){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Xs(e,r,s),s){let n=s.parent;for(;n&&n.parent;)lo(n.parent.vnode)&&cl(r,e,s,n),n=n.parent}}function cl(t,e,s,r){const n=Xs(e,t,r,!0);ho(()=>{Zr(r[e],n)},s)}function Xs(t,e,s=fe,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ht();const a=vs(s),l=qe(e,s,t,o);return a(),ft(),l});return r?n.unshift(i):n.push(i),i}}const Qe=t=>(e,s=fe)=>{(!gs||t==="sp")&&Xs(t,(...r)=>e(...r),s)},ul=Qe("bm"),uo=Qe("m"),hl=Qe("bu"),fl=Qe("u"),dl=Qe("bum"),ho=Qe("um"),pl=Qe("sp"),gl=Qe("rtg"),_l=Qe("rtc");function ml(t,e=fe){Xs("ec",t,e)}const vl=Symbol.for("v-ndc");function Ns(t,e,s,r){let n;const i=s,o=j(t);if(o||ne(t)){const a=o&&lt(t);let l=!1;a&&(l=!Oe(t),t=Js(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?he(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(Z(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Ir=t=>t?Ro(t)?tr(t):Ir(t.parent):null,ns=ae(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ir(t.parent),$root:t=>Ir(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>dn(t),$forceUpdate:t=>t.f||(t.f=()=>{hn(t.update)}),$nextTick:t=>t.n||(t.n=so.bind(t.proxy)),$watch:t=>Bl.bind(t)}),_r=(t,e)=>t!==J&&!t.__isScriptSetup&&W(t,e),yl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(_r(r,e))return o[e]=1,r[e];if(n!==J&&W(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&W(u,e))return o[e]=3,i[e];if(s!==J&&W(s,e))return o[e]=4,s[e];Lr&&(o[e]=0)}}const c=ns[e];let f,p;if(c)return e==="$attrs"&&ue(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(s!==J&&W(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,W(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return _r(n,e)?(n[e]=s,!0):r!==J&&W(r,e)?(r[e]=s,!0):W(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==J&&W(t,o)||_r(e,o)||(a=i[0])&&W(a,o)||W(r,o)||W(ns,o)||W(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:W(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function In(t){return j(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Lr=!0;function bl(t){const e=dn(t),s=t.proxy,r=t.ctx;Lr=!1,e.beforeCreate&&Ln(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:p,beforeUpdate:_,updated:x,activated:T,deactivated:A,beforeDestroy:R,beforeUnmount:N,destroyed:U,unmounted:O,render:I,renderTracked:Ke,renderTriggered:le,errorCaptured:B,serverPrefetch:K,expose:re,inheritAttrs:Te,components:Ie,directives:Ye,filters:Kt}=e;if(u&&wl(u,r,null),o)for(const M in o){const G=o[M];L(G)&&(r[M]=G.bind(s))}if(n){const M=n.call(s,s);Z(M)&&(t.data=Gs(M))}if(Lr=!0,i)for(const M in i){const G=i[M],dt=L(G)?G.bind(s,s):L(G.get)?G.get.bind(s,s):Be,Ss=!L(G)&&L(G.set)?G.set.bind(s):Be,pt=_n({get:dt,set:Ss});Object.defineProperty(r,M,{enumerable:!0,configurable:!0,get:()=>pt.value,set:Le=>pt.value=Le})}if(a)for(const M in a)fo(a[M],r,s,M);if(l){const M=L(l)?l.call(s):l;Reflect.ownKeys(M).forEach(G=>{Ol(G,M[G])})}c&&Ln(c,t,"c");function te(M,G){j(G)?G.forEach(dt=>M(dt.bind(s))):G&&M(G.bind(s))}if(te(ul,f),te(uo,p),te(hl,_),te(fl,x),te(al,T),te(ll,A),te(ml,B),te(_l,Ke),te(gl,le),te(dl,N),te(ho,O),te(pl,K),j(re))if(re.length){const M=t.exposed||(t.exposed={});re.forEach(G=>{Object.defineProperty(M,G,{get:()=>s[G],set:dt=>s[G]=dt})})}else t.exposed||(t.exposed={});I&&t.render===Be&&(t.render=I),Te!=null&&(t.inheritAttrs=Te),Ie&&(t.components=Ie),Ye&&(t.directives=Ye),K&&ao(t)}function wl(t,e,s=Be){j(t)&&(t=Dr(t));for(const r in t){const n=t[r];let i;Z(n)?"default"in n?i=is(n.from||r,n.default,!0):i=is(n.from||r):i=is(n),se(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ln(t,e,s){qe(j(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function fo(t,e,s,r){let n=r.includes(".")?Oo(s,r):()=>s[r];if(ne(t)){const i=e[t];L(i)&&js(n,i)}else if(L(t))js(n,t.bind(s));else if(Z(t))if(j(t))t.forEach(i=>fo(i,e,s,r));else{const i=L(t.handler)?t.handler.bind(s):e[t.handler];L(i)&&js(n,i,t)}}function dn(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Bs(l,u,o,!0)),Bs(l,e,o)),Z(e)&&i.set(e,l),l}function Bs(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Bs(t,i,s,!0),n&&n.forEach(o=>Bs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Sl[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Sl={data:Dn,props:Un,emits:Un,methods:Xt,computed:Xt,beforeCreate:de,created:de,beforeMount:de,mounted:de,beforeUpdate:de,updated:de,beforeDestroy:de,beforeUnmount:de,destroyed:de,unmounted:de,activated:de,deactivated:de,errorCaptured:de,serverPrefetch:de,components:Xt,directives:Xt,watch:xl,provide:Dn,inject:kl};function Dn(t,e){return e?t?function(){return ae(L(t)?t.call(this,this):t,L(e)?e.call(this,this):e)}:e:t}function kl(t,e){return Xt(Dr(t),Dr(e))}function Dr(t){if(j(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function de(t,e){return t?[...new Set([].concat(t,e))]:e}function Xt(t,e){return t?ae(Object.create(null),t,e):e}function Un(t,e){return t?j(t)&&j(e)?[...new Set([...t,...e])]:ae(Object.create(null),In(t),In(e??{})):e}function xl(t,e){if(!t)return e;if(!e)return t;const s=ae(Object.create(null),t);for(const r in e)s[r]=de(t[r],e[r]);return s}function po(){return{app:null,config:{isNativeTag:da,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let El=0;function Tl(t,e){return function(r,n=null){L(r)||(r=ae({},r)),n!=null&&!Z(n)&&(n=null);const i=po(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:El++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:ac,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&L(c.install)?(o.add(c),c.install(u,...f)):L(c)&&(o.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,p){if(!l){const _=u._ceVNode||He(r,n);return _.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(_,c):t(_,c,p),l=!0,u._container=c,c.__vue_app__=u,tr(_.component)}},onUnmount(c){a.push(c)},unmount(){l&&(qe(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=St;St=u;try{return c()}finally{St=f}}};return u}}let St=null;function Ol(t,e){if(fe){let s=fe.provides;const r=fe.parent&&fe.parent.provides;r===s&&(s=fe.provides=Object.create(r)),s[t]=e}}function is(t,e,s=!1){const r=fe||xe;if(r||St){const n=St?St._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&L(e)?e.call(r&&r.proxy):e}}function Pl(){return!!(fe||xe||St)}const go={},_o=()=>Object.create(go),mo=t=>Object.getPrototypeOf(t)===go;function Al(t,e,s,r=!1){const n={},i=_o();t.propsDefaults=Object.create(null),vo(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Ka(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Cl(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=V(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let p=c[f];if(Zs(t.emitsOptions,p))continue;const _=e[p];if(l)if(W(i,p))_!==i[p]&&(i[p]=_,u=!0);else{const x=ct(p);n[x]=Ur(l,a,x,_,t,!1)}else _!==i[p]&&(i[p]=_,u=!0)}}}else{vo(t,e,n,i)&&(u=!0);let c;for(const f in a)(!e||!W(e,f)&&((c=Et(f))===f||!W(e,c)))&&(l?s&&(s[f]!==void 0||s[c]!==void 0)&&(n[f]=Ur(l,a,f,void 0,t,!0)):delete n[f]);if(i!==a)for(const f in i)(!e||!W(e,f))&&(delete i[f],u=!0)}u&&ze(t.attrs,"set","")}function vo(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(es(l))continue;const u=e[l];let c;n&&W(n,c=ct(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Zs(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=V(s),u=a||J;for(let c=0;c<i.length;c++){const f=i[c];s[f]=Ur(n,l,f,u[f],t,!W(u,f))}}return o}function Ur(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=W(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&L(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=vs(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Et(s))&&(r=!0))}return r}const $l=new WeakMap;function yo(t,e,s=!1){const r=s?$l:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!L(t)){const c=f=>{l=!0;const[p,_]=yo(f,e,!0);ae(o,p),_&&a.push(..._)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Z(t)&&r.set(t,Lt),Lt;if(j(i))for(let c=0;c<i.length;c++){const f=ct(i[c]);Mn(f)&&(o[f]=J)}else if(i)for(const c in i){const f=ct(c);if(Mn(f)){const p=i[c],_=o[f]=j(p)||L(p)?{type:p}:ae({},p),x=_.type;let T=!1,A=!0;if(j(x))for(let R=0;R<x.length;++R){const N=x[R],U=L(N)&&N.name;if(U==="Boolean"){T=!0;break}else U==="String"&&(A=!1)}else T=L(x)&&x.name==="Boolean";_[0]=T,_[1]=A,(T||W(_,"default"))&&a.push(f)}}const u=[o,a];return Z(t)&&r.set(t,u),u}function Mn(t){return t[0]!=="$"&&!es(t)}const bo=t=>t[0]==="_"||t==="$stable",pn=t=>j(t)?t.map(Ne):[Ne(t)],jl=(t,e,s)=>{if(e._n)return e;const r=nl((...n)=>pn(e(...n)),s);return r._c=!1,r},wo=(t,e,s)=>{const r=t._ctx;for(const n in t){if(bo(n))continue;const i=t[n];if(L(i))e[n]=jl(n,i,r);else if(i!=null){const o=pn(i);e[n]=()=>o}}},So=(t,e)=>{const s=pn(e);t.slots.default=()=>s},ko=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},Rl=(t,e,s)=>{const r=t.slots=_o();if(t.vnode.shapeFlag&32){const n=e._;n?(ko(r,e,s),s&&ji(r,"_",n,!0)):wo(e,r)}else e&&So(t,e)},Il=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=J;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:ko(n,e,s):(i=!e.$stable,wo(e,n)),o=e}else e&&(So(t,e),o={default:1});if(i)for(const a in n)!bo(a)&&o[a]==null&&delete n[a]},Se=Jl;function Ll(t){return Dl(t)}function Dl(t,e){const s=zs();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:p,setScopeId:_=Be,insertStaticContent:x}=t,T=(h,d,g,y=null,m=null,v=null,k=void 0,S=null,w=!!d.dynamicChildren)=>{if(h===d)return;h&&!Gt(h,d)&&(y=ks(h),Le(h,m,v,!0),h=null),d.patchFlag===-2&&(w=!1,d.dynamicChildren=null);const{type:b,ref:C,shapeFlag:E}=d;switch(b){case er:A(h,d,g,y);break;case xt:R(h,d,g,y);break;case yr:h==null&&N(d,g,y,k);break;case me:Ie(h,d,g,y,m,v,k,S,w);break;default:E&1?I(h,d,g,y,m,v,k,S,w):E&6?Ye(h,d,g,y,m,v,k,S,w):(E&64||E&128)&&b.process(h,d,g,y,m,v,k,S,w,Wt)}C!=null&&m&&Fs(C,h&&h.ref,v,d||h,!d)},A=(h,d,g,y)=>{if(h==null)r(d.el=a(d.children),g,y);else{const m=d.el=h.el;d.children!==h.children&&u(m,d.children)}},R=(h,d,g,y)=>{h==null?r(d.el=l(d.children||""),g,y):d.el=h.el},N=(h,d,g,y)=>{[h.el,h.anchor]=x(h.children,d,g,y,h.el,h.anchor)},U=({el:h,anchor:d},g,y)=>{let m;for(;h&&h!==d;)m=p(h),r(h,g,y),h=m;r(d,g,y)},O=({el:h,anchor:d})=>{let g;for(;h&&h!==d;)g=p(h),n(h),h=g;n(d)},I=(h,d,g,y,m,v,k,S,w)=>{d.type==="svg"?k="svg":d.type==="math"&&(k="mathml"),h==null?Ke(d,g,y,m,v,k,S,w):K(h,d,m,v,k,S,w)},Ke=(h,d,g,y,m,v,k,S)=>{let w,b;const{props:C,shapeFlag:E,transition:P,dirs:$}=h;if(w=h.el=o(h.type,v,C&&C.is,C),E&8?c(w,h.children):E&16&&B(h.children,w,null,y,m,mr(h,v),k,S),$&&gt(h,null,y,"created"),le(w,h,h.scopeId,k,y),C){for(const Q in C)Q!=="value"&&!es(Q)&&i(w,Q,null,C[Q],v,y);"value"in C&&i(w,"value",null,C.value,v),(b=C.onVnodeBeforeMount)&&Ue(b,y,h)}$&&gt(h,null,y,"beforeMount");const H=Ul(m,P);H&&P.beforeEnter(w),r(w,d,g),((b=C&&C.onVnodeMounted)||H||$)&&Se(()=>{b&&Ue(b,y,h),H&&P.enter(w),$&&gt(h,null,y,"mounted")},m)},le=(h,d,g,y,m)=>{if(g&&_(h,g),y)for(let v=0;v<y.length;v++)_(h,y[v]);if(m){let v=m.subTree;if(d===v||Ao(v.type)&&(v.ssContent===d||v.ssFallback===d)){const k=m.vnode;le(h,k,k.scopeId,k.slotScopeIds,m.parent)}}},B=(h,d,g,y,m,v,k,S,w=0)=>{for(let b=w;b<h.length;b++){const C=h[b]=S?st(h[b]):Ne(h[b]);T(null,C,d,g,y,m,v,k,S)}},K=(h,d,g,y,m,v,k)=>{const S=d.el=h.el;let{patchFlag:w,dynamicChildren:b,dirs:C}=d;w|=h.patchFlag&16;const E=h.props||J,P=d.props||J;let $;if(g&&_t(g,!1),($=P.onVnodeBeforeUpdate)&&Ue($,g,d,h),C&&gt(d,h,g,"beforeUpdate"),g&&_t(g,!0),(E.innerHTML&&P.innerHTML==null||E.textContent&&P.textContent==null)&&c(S,""),b?re(h.dynamicChildren,b,S,g,y,mr(d,m),v):k||G(h,d,S,null,g,y,mr(d,m),v,!1),w>0){if(w&16)Te(S,E,P,g,m);else if(w&2&&E.class!==P.class&&i(S,"class",null,P.class,m),w&4&&i(S,"style",E.style,P.style,m),w&8){const H=d.dynamicProps;for(let Q=0;Q<H.length;Q++){const z=H[Q],ye=E[z],ce=P[z];(ce!==ye||z==="value")&&i(S,z,ye,ce,m,g)}}w&1&&h.children!==d.children&&c(S,d.children)}else!k&&b==null&&Te(S,E,P,g,m);(($=P.onVnodeUpdated)||C)&&Se(()=>{$&&Ue($,g,d,h),C&&gt(d,h,g,"updated")},y)},re=(h,d,g,y,m,v,k)=>{for(let S=0;S<d.length;S++){const w=h[S],b=d[S],C=w.el&&(w.type===me||!Gt(w,b)||w.shapeFlag&70)?f(w.el):g;T(w,b,C,null,y,m,v,k,!0)}},Te=(h,d,g,y,m)=>{if(d!==g){if(d!==J)for(const v in d)!es(v)&&!(v in g)&&i(h,v,d[v],null,m,y);for(const v in g){if(es(v))continue;const k=g[v],S=d[v];k!==S&&v!=="value"&&i(h,v,S,k,m,y)}"value"in g&&i(h,"value",d.value,g.value,m)}},Ie=(h,d,g,y,m,v,k,S,w)=>{const b=d.el=h?h.el:a(""),C=d.anchor=h?h.anchor:a("");let{patchFlag:E,dynamicChildren:P,slotScopeIds:$}=d;$&&(S=S?S.concat($):$),h==null?(r(b,g,y),r(C,g,y),B(d.children||[],g,C,m,v,k,S,w)):E>0&&E&64&&P&&h.dynamicChildren?(re(h.dynamicChildren,P,g,m,v,k,S),(d.key!=null||m&&d===m.subTree)&&xo(h,d,!0)):G(h,d,g,C,m,v,k,S,w)},Ye=(h,d,g,y,m,v,k,S,w)=>{d.slotScopeIds=S,h==null?d.shapeFlag&512?m.ctx.activate(d,g,y,k,w):Kt(d,g,y,m,v,k,w):ws(h,d,w)},Kt=(h,d,g,y,m,v,k)=>{const S=h.component=tc(h,y,m);if(lo(h)&&(S.ctx.renderer=Wt),sc(S,!1,k),S.asyncDep){if(m&&m.registerDep(S,te,k),!h.el){const w=S.subTree=He(xt);R(null,w,d,g)}}else te(S,h,d,g,m,v,k)},ws=(h,d,g)=>{const y=d.component=h.component;if(Wl(h,d,g))if(y.asyncDep&&!y.asyncResolved){M(y,d,g);return}else y.next=d,y.update();else d.el=h.el,y.vnode=d},te=(h,d,g,y,m,v,k)=>{const S=()=>{if(h.isMounted){let{next:E,bu:P,u:$,parent:H,vnode:Q}=h;{const be=Eo(h);if(be){E&&(E.el=Q.el,M(h,E,k)),be.asyncDep.then(()=>{h.isUnmounted||S()});return}}let z=E,ye;_t(h,!1),E?(E.el=Q.el,M(h,E,k)):E=Q,P&&$s(P),(ye=E.props&&E.props.onVnodeBeforeUpdate)&&Ue(ye,H,E,Q),_t(h,!0);const ce=vr(h),Ae=h.subTree;h.subTree=ce,T(Ae,ce,f(Ae.el),ks(Ae),h,m,v),E.el=ce.el,z===null&&zl(h,ce.el),$&&Se($,m),(ye=E.props&&E.props.onVnodeUpdated)&&Se(()=>Ue(ye,H,E,Q),m)}else{let E;const{el:P,props:$}=d,{bm:H,m:Q,parent:z,root:ye,type:ce}=h,Ae=rs(d);if(_t(h,!1),H&&$s(H),!Ae&&(E=$&&$.onVnodeBeforeMount)&&Ue(E,z,d),_t(h,!0),P&&Tn){const be=()=>{h.subTree=vr(h),Tn(P,h.subTree,h,m,null)};Ae&&ce.__asyncHydrate?ce.__asyncHydrate(P,h,be):be()}else{ye.ce&&ye.ce._injectChildStyle(ce);const be=h.subTree=vr(h);T(null,be,g,y,h,m,v),d.el=be.el}if(Q&&Se(Q,m),!Ae&&(E=$&&$.onVnodeMounted)){const be=d;Se(()=>Ue(E,z,be),m)}(d.shapeFlag&256||z&&rs(z.vnode)&&z.vnode.shapeFlag&256)&&h.a&&Se(h.a,m),h.isMounted=!0,d=g=y=null}};h.scope.on();const w=h.effect=new Fi(S);h.scope.off();const b=h.update=w.run.bind(w),C=h.job=w.runIfDirty.bind(w);C.i=h,C.id=h.uid,w.scheduler=()=>hn(C),_t(h,!0),b()},M=(h,d,g)=>{d.component=h;const y=h.vnode.props;h.vnode=d,h.next=null,Cl(h,d.props,y,g),Il(h,d.children,g),ht(),jn(h),ft()},G=(h,d,g,y,m,v,k,S,w=!1)=>{const b=h&&h.children,C=h?h.shapeFlag:0,E=d.children,{patchFlag:P,shapeFlag:$}=d;if(P>0){if(P&128){Ss(b,E,g,y,m,v,k,S,w);return}else if(P&256){dt(b,E,g,y,m,v,k,S,w);return}}$&8?(C&16&&Vt(b,m,v),E!==b&&c(g,E)):C&16?$&16?Ss(b,E,g,y,m,v,k,S,w):Vt(b,m,v,!0):(C&8&&c(g,""),$&16&&B(E,g,y,m,v,k,S,w))},dt=(h,d,g,y,m,v,k,S,w)=>{h=h||Lt,d=d||Lt;const b=h.length,C=d.length,E=Math.min(b,C);let P;for(P=0;P<E;P++){const $=d[P]=w?st(d[P]):Ne(d[P]);T(h[P],$,g,null,m,v,k,S,w)}b>C?Vt(h,m,v,!0,!1,E):B(d,g,y,m,v,k,S,w,E)},Ss=(h,d,g,y,m,v,k,S,w)=>{let b=0;const C=d.length;let E=h.length-1,P=C-1;for(;b<=E&&b<=P;){const $=h[b],H=d[b]=w?st(d[b]):Ne(d[b]);if(Gt($,H))T($,H,g,null,m,v,k,S,w);else break;b++}for(;b<=E&&b<=P;){const $=h[E],H=d[P]=w?st(d[P]):Ne(d[P]);if(Gt($,H))T($,H,g,null,m,v,k,S,w);else break;E--,P--}if(b>E){if(b<=P){const $=P+1,H=$<C?d[$].el:y;for(;b<=P;)T(null,d[b]=w?st(d[b]):Ne(d[b]),g,H,m,v,k,S,w),b++}}else if(b>P)for(;b<=E;)Le(h[b],m,v,!0),b++;else{const $=b,H=b,Q=new Map;for(b=H;b<=P;b++){const we=d[b]=w?st(d[b]):Ne(d[b]);we.key!=null&&Q.set(we.key,b)}let z,ye=0;const ce=P-H+1;let Ae=!1,be=0;const zt=new Array(ce);for(b=0;b<ce;b++)zt[b]=0;for(b=$;b<=E;b++){const we=h[b];if(ye>=ce){Le(we,m,v,!0);continue}let De;if(we.key!=null)De=Q.get(we.key);else for(z=H;z<=P;z++)if(zt[z-H]===0&&Gt(we,d[z])){De=z;break}De===void 0?Le(we,m,v,!0):(zt[De-H]=b+1,De>=be?be=De:Ae=!0,T(we,d[De],g,null,m,v,k,S,w),ye++)}const On=Ae?Ml(zt):Lt;for(z=On.length-1,b=ce-1;b>=0;b--){const we=H+b,De=d[we],Pn=we+1<C?d[we+1].el:y;zt[b]===0?T(null,De,g,Pn,m,v,k,S,w):Ae&&(z<0||b!==On[z]?pt(De,g,Pn,2):z--)}}},pt=(h,d,g,y,m=null)=>{const{el:v,type:k,transition:S,children:w,shapeFlag:b}=h;if(b&6){pt(h.component.subTree,d,g,y);return}if(b&128){h.suspense.move(d,g,y);return}if(b&64){k.move(h,d,g,Wt);return}if(k===me){r(v,d,g);for(let E=0;E<w.length;E++)pt(w[E],d,g,y);r(h.anchor,d,g);return}if(k===yr){U(h,d,g);return}if(y!==2&&b&1&&S)if(y===0)S.beforeEnter(v),r(v,d,g),Se(()=>S.enter(v),m);else{const{leave:E,delayLeave:P,afterLeave:$}=S,H=()=>r(v,d,g),Q=()=>{E(v,()=>{H(),$&&$()})};P?P(v,H,Q):Q()}else r(v,d,g)},Le=(h,d,g,y=!1,m=!1)=>{const{type:v,props:k,ref:S,children:w,dynamicChildren:b,shapeFlag:C,patchFlag:E,dirs:P,cacheIndex:$}=h;if(E===-2&&(m=!1),S!=null&&Fs(S,null,g,h,!0),$!=null&&(d.renderCache[$]=void 0),C&256){d.ctx.deactivate(h);return}const H=C&1&&P,Q=!rs(h);let z;if(Q&&(z=k&&k.onVnodeBeforeUnmount)&&Ue(z,d,h),C&6)fa(h.component,g,y);else{if(C&128){h.suspense.unmount(g,y);return}H&&gt(h,null,d,"beforeUnmount"),C&64?h.type.remove(h,d,g,Wt,y):b&&!b.hasOnce&&(v!==me||E>0&&E&64)?Vt(b,d,g,!1,!0):(v===me&&E&384||!m&&C&16)&&Vt(w,d,g),y&&kn(h)}(Q&&(z=k&&k.onVnodeUnmounted)||H)&&Se(()=>{z&&Ue(z,d,h),H&&gt(h,null,d,"unmounted")},g)},kn=h=>{const{type:d,el:g,anchor:y,transition:m}=h;if(d===me){ha(g,y);return}if(d===yr){O(h);return}const v=()=>{n(g),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(h.shapeFlag&1&&m&&!m.persisted){const{leave:k,delayLeave:S}=m,w=()=>k(g,v);S?S(h.el,v,w):w()}else v()},ha=(h,d)=>{let g;for(;h!==d;)g=p(h),n(h),h=g;n(d)},fa=(h,d,g)=>{const{bum:y,scope:m,job:v,subTree:k,um:S,m:w,a:b}=h;Fn(w),Fn(b),y&&$s(y),m.stop(),v&&(v.flags|=8,Le(k,h,d,g)),S&&Se(S,d),Se(()=>{h.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Vt=(h,d,g,y=!1,m=!1,v=0)=>{for(let k=v;k<h.length;k++)Le(h[k],d,g,y,m)},ks=h=>{if(h.shapeFlag&6)return ks(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const d=p(h.anchor||h.el),g=d&&d[il];return g?p(g):d};let ur=!1;const xn=(h,d,g)=>{h==null?d._vnode&&Le(d._vnode,null,null,!0):T(d._vnode||null,h,d,null,null,null,g),d._vnode=h,ur||(ur=!0,jn(),no(),ur=!1)},Wt={p:T,um:Le,m:pt,r:kn,mt:Kt,mc:B,pc:G,pbc:re,n:ks,o:t};let En,Tn;return{render:xn,hydrate:En,createApp:Tl(xn,En)}}function mr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function _t({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ul(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function xo(t,e,s=!1){const r=t.children,n=e.children;if(j(r)&&j(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=st(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&xo(o,a)),a.type===er&&(a.el=o.el)}}function Ml(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Eo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Eo(e)}function Fn(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Fl=Symbol.for("v-scx"),Nl=()=>is(Fl);function js(t,e,s){return To(t,e,s)}function To(t,e,s=J){const{immediate:r,deep:n,flush:i,once:o}=s,a=ae({},s),l=e&&r||!e&&i!=="post";let u;if(gs){if(i==="sync"){const _=Nl();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!l){const _=()=>{};return _.stop=Be,_.resume=Be,_.pause=Be,_}}const c=fe;a.call=(_,x,T)=>qe(_,c,x,T);let f=!1;i==="post"?a.scheduler=_=>{Se(_,c&&c.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(_,x)=>{x?_():hn(_)}),a.augmentJob=_=>{e&&(_.flags|=4),f&&(_.flags|=2,c&&(_.id=c.uid,_.i=c))};const p=el(t,e,a);return gs&&(u?u.push(p):l&&p()),p}function Bl(t,e,s){const r=this.proxy,n=ne(t)?t.includes(".")?Oo(r,t):()=>r[t]:t.bind(r,r);let i;L(e)?i=e:(i=e.handler,s=e);const o=vs(this),a=To(n,i.bind(r),s);return o(),a}function Oo(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Hl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ct(e)}Modifiers`]||t[`${Et(e)}Modifiers`];function ql(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||J;let n=s;const i=e.startsWith("update:"),o=i&&Hl(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>ne(c)?c.trim():c)),o.number&&(n=s.map(Ar)));let a,l=r[a=hr(e)]||r[a=hr(ct(e))];!l&&i&&(l=r[a=hr(Et(e))]),l&&qe(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,qe(u,t,6,n)}}function Po(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!L(t)){const l=u=>{const c=Po(u,e,!0);c&&(a=!0,ae(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Z(t)&&r.set(t,null),null):(j(i)?i.forEach(l=>o[l]=null):ae(o,i),Z(t)&&r.set(t,o),o)}function Zs(t,e){return!t||!Ks(e)?!1:(e=e.slice(2).replace(/Once$/,""),W(t,e[0].toLowerCase()+e.slice(1))||W(t,Et(e))||W(t,e))}function vr(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:p,setupState:_,ctx:x,inheritAttrs:T}=t,A=Ms(t);let R,N;try{if(s.shapeFlag&4){const O=n||r,I=O;R=Ne(u.call(I,O,c,f,_,p,x)),N=a}else{const O=e;R=Ne(O.length>1?O(f,{attrs:a,slots:o,emit:l}):O(f,null)),N=e.props?a:Kl(a)}}catch(O){os.length=0,Qs(O,t,1),R=He(xt)}let U=R;if(N&&T!==!1){const O=Object.keys(N),{shapeFlag:I}=U;O.length&&I&7&&(i&&O.some(Xr)&&(N=Vl(N,i)),U=Ft(U,N,!1,!0))}return s.dirs&&(U=Ft(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(s.dirs):s.dirs),s.transition&&fn(U,s.transition),R=U,Ms(A),R}const Kl=t=>{let e;for(const s in t)(s==="class"||s==="style"||Ks(s))&&((e||(e={}))[s]=t[s]);return e},Vl=(t,e)=>{const s={};for(const r in t)(!Xr(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Wl(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Nn(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const p=c[f];if(o[p]!==r[p]&&!Zs(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Nn(r,o,u):!0:!!o;return!1}function Nn(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Zs(s,i))return!0}return!1}function zl({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ao=t=>t.__isSuspense;function Jl(t,e){e&&e.pendingBranch?j(t)?e.effects.push(...t):e.effects.push(t):rl(t)}const me=Symbol.for("v-fgt"),er=Symbol.for("v-txt"),xt=Symbol.for("v-cmt"),yr=Symbol.for("v-stc"),os=[];let Ee=null;function ee(t=!1){os.push(Ee=t?null:[])}function Gl(){os.pop(),Ee=os[os.length-1]||null}let ps=1;function Bn(t,e=!1){ps+=t,t<0&&Ee&&e&&(Ee.hasOnce=!0)}function Co(t){return t.dynamicChildren=ps>0?Ee||Lt:null,Gl(),ps>0&&Ee&&Ee.push(t),t}function ie(t,e,s,r,n,i){return Co(q(t,e,s,r,n,i,!0))}function Mr(t,e,s,r,n){return Co(He(t,e,s,r,n,!0))}function $o(t){return t?t.__v_isVNode===!0:!1}function Gt(t,e){return t.type===e.type&&t.key===e.key}const jo=({key:t})=>t??null,Rs=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ne(t)||se(t)||L(t)?{i:xe,r:t,k:e,f:!!s}:t:null);function q(t,e=null,s=null,r=0,n=null,i=t===me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&jo(e),ref:e&&Rs(e),scopeId:oo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:xe};return a?(gn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=ne(s)?8:16),ps>0&&!o&&Ee&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ee.push(l),l}const He=Ql;function Ql(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===vl)&&(t=xt),$o(t)){const a=Ft(t,e,!0);return s&&gn(a,s),ps>0&&!i&&Ee&&(a.shapeFlag&6?Ee[Ee.indexOf(t)]=a:Ee.push(a)),a.patchFlag=-2,a}if(oc(t)&&(t=t.__vccOpts),e){e=Yl(e);let{class:a,style:l}=e;a&&!ne(a)&&(e.class=it(a)),Z(l)&&(cn(l)&&!j(l)&&(l=ae({},l)),e.style=tn(l))}const o=ne(t)?1:Ao(t)?128:ol(t)?64:Z(t)?4:L(t)?2:0;return q(t,e,s,r,n,o,i,!0)}function Yl(t){return t?cn(t)||mo(t)?ae({},t):t:null}function Ft(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Xl(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&jo(u),ref:e&&e.ref?s&&i?j(i)?i.concat(Rs(e)):[i,Rs(e)]:Rs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ft(t.ssContent),ssFallback:t.ssFallback&&Ft(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&fn(c,l.clone(c)),c}function Fr(t=" ",e=0){return He(er,null,t,e)}function as(t="",e=!1){return e?(ee(),Mr(xt,null,t)):He(xt,null,t)}function Ne(t){return t==null||typeof t=="boolean"?He(xt):j(t)?He(me,null,t.slice()):$o(t)?st(t):He(er,null,String(t))}function st(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ft(t)}function gn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(j(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),gn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!mo(e)?e._ctx=xe:n===3&&xe&&(xe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else L(e)?(e={default:e,_ctx:xe},s=32):(e=String(e),r&64?(s=16,e=[Fr(e)]):s=8);t.children=e,t.shapeFlag|=s}function Xl(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=it([e.class,r.class]));else if(n==="style")e.style=tn([e.style,r.style]);else if(Ks(n)){const i=e[n],o=r[n];o&&i!==o&&!(j(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Ue(t,e,s,r=null){qe(t,e,7,[s,r])}const Zl=po();let ec=0;function tc(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Zl,i={uid:ec++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Di(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yo(r,n),emitsOptions:Po(r,n),emit:null,emitted:null,propsDefaults:J,inheritAttrs:r.inheritAttrs,ctx:J,data:J,props:J,attrs:J,slots:J,refs:J,setupState:J,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=ql.bind(null,i),t.ce&&t.ce(i),i}let fe=null,Hs,Nr;{const t=zs(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Hs=e("__VUE_INSTANCE_SETTERS__",s=>fe=s),Nr=e("__VUE_SSR_SETTERS__",s=>gs=s)}const vs=t=>{const e=fe;return Hs(t),t.scope.on(),()=>{t.scope.off(),Hs(e)}},Hn=()=>{fe&&fe.scope.off(),Hs(null)};function Ro(t){return t.vnode.shapeFlag&4}let gs=!1;function sc(t,e=!1,s=!1){e&&Nr(e);const{props:r,children:n}=t.vnode,i=Ro(t);Al(t,r,i,e),Rl(t,n,s);const o=i?rc(t,e):void 0;return e&&Nr(!1),o}function rc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,yl);const{setup:r}=s;if(r){ht();const n=t.setupContext=r.length>1?ic(t):null,i=vs(t),o=ms(r,t,0,[t.props,n]),a=Pi(o);if(ft(),i(),(a||t.sp)&&!rs(t)&&ao(t),a){if(o.then(Hn,Hn),e)return o.then(l=>{qn(t,l,e)}).catch(l=>{Qs(l,t,0)});t.asyncDep=o}else qn(t,o,e)}else Io(t,e)}function qn(t,e,s){L(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Z(e)&&(t.setupState=eo(e)),Io(t,s)}let Kn;function Io(t,e,s){const r=t.type;if(!t.render){if(!e&&Kn&&!r.render){const n=r.template||dn(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=ae(ae({isCustomElement:i,delimiters:a},o),l);r.render=Kn(n,u)}}t.render=r.render||Be}{const n=vs(t);ht();try{bl(t)}finally{ft(),n()}}}const nc={get(t,e){return ue(t,"get",""),t[e]}};function ic(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,nc),slots:t.slots,emit:t.emit,expose:e}}function tr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(eo(un(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in ns)return ns[s](t)},has(e,s){return s in e||s in ns}})):t.proxy}function oc(t){return L(t)&&"__vccOpts"in t}const _n=(t,e)=>Xa(t,e,gs),ac="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Br;const Vn=typeof window<"u"&&window.trustedTypes;if(Vn)try{Br=Vn.createPolicy("vue",{createHTML:t=>t})}catch{}const Lo=Br?t=>Br.createHTML(t):t=>t,lc="http://www.w3.org/2000/svg",cc="http://www.w3.org/1998/Math/MathML",We=typeof document<"u"?document:null,Wn=We&&We.createElement("template"),uc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?We.createElementNS(lc,t):e==="mathml"?We.createElementNS(cc,t):s?We.createElement(t,{is:s}):We.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>We.createTextNode(t),createComment:t=>We.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>We.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Wn.innerHTML=Lo(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Wn.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},hc=Symbol("_vtc");function fc(t,e,s){const r=t[hc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const zn=Symbol("_vod"),dc=Symbol("_vsh"),pc=Symbol(""),gc=/(^|;)\s*display\s*:/;function _c(t,e,s){const r=t.style,n=ne(s);let i=!1;if(s&&!n){if(e)if(ne(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Is(r,a,"")}else for(const o in e)s[o]==null&&Is(r,o,"");for(const o in s)o==="display"&&(i=!0),Is(r,o,s[o])}else if(n){if(e!==s){const o=r[pc];o&&(s+=";"+o),r.cssText=s,i=gc.test(s)}}else e&&t.removeAttribute("style");zn in t&&(t[zn]=i?r.display:"",t[dc]&&(r.display="none"))}const Jn=/\s*!important$/;function Is(t,e,s){if(j(s))s.forEach(r=>Is(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=mc(t,e);Jn.test(s)?t.setProperty(Et(r),s.replace(Jn,""),"important"):t[r]=s}}const Gn=["Webkit","Moz","ms"],br={};function mc(t,e){const s=br[e];if(s)return s;let r=ct(e);if(r!=="filter"&&r in t)return br[e]=r;r=$i(r);for(let n=0;n<Gn.length;n++){const i=Gn[n]+r;if(i in t)return br[e]=i}return e}const Qn="http://www.w3.org/1999/xlink";function Yn(t,e,s,r,n,i=ka(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Qn,e.slice(6,e.length)):t.setAttributeNS(Qn,e,s):s==null||i&&!Ri(s)?t.removeAttribute(e):t.setAttribute(e,i?"":ut(s)?String(s):s)}function Xn(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Lo(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Ri(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function It(t,e,s,r){t.addEventListener(e,s,r)}function vc(t,e,s,r){t.removeEventListener(e,s,r)}const Zn=Symbol("_vei");function yc(t,e,s,r,n=null){const i=t[Zn]||(t[Zn]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=bc(e);if(r){const u=i[e]=kc(r,n);It(t,a,u,l)}else o&&(vc(t,a,o,l),i[e]=void 0)}}const ei=/(?:Once|Passive|Capture)$/;function bc(t){let e;if(ei.test(t)){e={};let r;for(;r=t.match(ei);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Et(t.slice(2)),e]}let wr=0;const wc=Promise.resolve(),Sc=()=>wr||(wc.then(()=>wr=0),wr=Date.now());function kc(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;qe(xc(r,s.value),e,5,[r])};return s.value=t,s.attached=Sc(),s}function xc(t,e){if(j(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const ti=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ec=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?fc(t,r,o):e==="style"?_c(t,s,r):Ks(e)?Xr(e)||yc(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Tc(t,e,r,o))?(Xn(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Yn(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ne(r))?Xn(t,ct(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Yn(t,e,r,o))};function Tc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ti(e)&&L(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ti(e)&&ne(s)?!1:e in t}const si=t=>{const e=t.props["onUpdate:modelValue"]||!1;return j(e)?s=>$s(e,s):e};function Oc(t){t.target.composing=!0}function ri(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Sr=Symbol("_assign"),ni={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Sr]=si(n);const i=r||n.props&&n.props.type==="number";It(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Ar(a)),t[Sr](a)}),s&&It(t,"change",()=>{t.value=t.value.trim()}),e||(It(t,"compositionstart",Oc),It(t,"compositionend",ri),It(t,"change",ri))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Sr]=si(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Ar(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Pc=ae({patchProp:Ec},uc);let ii;function Ac(){return ii||(ii=Ll(Pc))}const Cc=(...t)=>{const e=Ac().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=jc(r);if(!n)return;const i=e._component;!L(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,$c(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function $c(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function jc(t){return ne(t)?document.querySelector(t):t}var Rc=!1;/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Do;const sr=t=>Do=t,Uo=Symbol();function Hr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ls;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ls||(ls={}));function Ic(){const t=Ui(!0),e=t.run(()=>Ge({}));let s=[],r=[];const n=un({install(i){sr(n),n._a=i,i.provide(Uo,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return!this._a&&!Rc?r.push(i):s.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Mo=()=>{};function oi(t,e,s,r=Mo){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&Mi()&&xa(n),n}function At(t,...e){t.slice().forEach(s=>{s(...e)})}const Lc=t=>t(),ai=Symbol(),kr=Symbol();function qr(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];Hr(n)&&Hr(r)&&t.hasOwnProperty(s)&&!se(r)&&!lt(r)?t[s]=qr(n,r):t[s]=r}return t}const Dc=Symbol();function Uc(t){return!Hr(t)||!t.hasOwnProperty(Dc)}const{assign:Xe}=Object;function Mc(t){return!!(se(t)&&t.effect)}function Fc(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=Ja(s.state.value[t]);return Xe(c,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=un(_n(()=>{sr(s);const _=s._s.get(t);return o[p].call(_,_)})),f),{}))}return l=Fo(t,u,e,s,r,!0),l}function Fo(t,e,s={},r,n,i){let o;const a=Xe({actions:{}},s),l={deep:!0};let u,c,f=[],p=[],_;const x=r.state.value[t];!i&&!x&&(r.state.value[t]={}),Ge({});let T;function A(B){let K;u=c=!1,typeof B=="function"?(B(r.state.value[t]),K={type:ls.patchFunction,storeId:t,events:_}):(qr(r.state.value[t],B),K={type:ls.patchObject,payload:B,storeId:t,events:_});const re=T=Symbol();so().then(()=>{T===re&&(u=!0)}),c=!0,At(f,K,r.state.value[t])}const R=i?function(){const{state:K}=s,re=K?K():{};this.$patch(Te=>{Xe(Te,re)})}:Mo;function N(){o.stop(),f=[],p=[],r._s.delete(t)}const U=(B,K="")=>{if(ai in B)return B[kr]=K,B;const re=function(){sr(r);const Te=Array.from(arguments),Ie=[],Ye=[];function Kt(M){Ie.push(M)}function ws(M){Ye.push(M)}At(p,{args:Te,name:re[kr],store:I,after:Kt,onError:ws});let te;try{te=B.apply(this&&this.$id===t?this:I,Te)}catch(M){throw At(Ye,M),M}return te instanceof Promise?te.then(M=>(At(Ie,M),M)).catch(M=>(At(Ye,M),Promise.reject(M))):(At(Ie,te),te)};return re[ai]=!0,re[kr]=K,re},O={_p:r,$id:t,$onAction:oi.bind(null,p),$patch:A,$reset:R,$subscribe(B,K={}){const re=oi(f,B,K.detached,()=>Te()),Te=o.run(()=>js(()=>r.state.value[t],Ie=>{(K.flush==="sync"?c:u)&&B({storeId:t,type:ls.direct,events:_},Ie)},Xe({},l,K)));return re},$dispose:N},I=Gs(O);r._s.set(t,I);const le=(r._a&&r._a.runWithContext||Lc)(()=>r._e.run(()=>(o=Ui()).run(()=>e({action:U}))));for(const B in le){const K=le[B];if(se(K)&&!Mc(K)||lt(K))i||(x&&Uc(K)&&(se(K)?K.value=x[B]:qr(K,x[B])),r.state.value[t][B]=K);else if(typeof K=="function"){const re=U(K,B);le[B]=re,a.actions[B]=K}}return Xe(I,le),Xe(V(I),le),Object.defineProperty(I,"$state",{get:()=>r.state.value[t],set:B=>{A(K=>{Xe(K,B)})}}),r._p.forEach(B=>{Xe(I,o.run(()=>B({store:I,app:r._a,pinia:r,options:a})))}),x&&i&&s.hydrate&&s.hydrate(I.$state,x),u=!0,c=!0,I}/*! #__NO_SIDE_EFFECTS__ */function Nc(t,e,s){let r,n;const i=typeof e=="function";r=t,n=i?s:e;function o(a,l){const u=Pl();return a=a||(u?is(Uo,null):null),a&&sr(a),a=Do,a._s.has(r)||(i?Fo(r,e,n,a):Fc(r,n,a)),a._s.get(r)}return o.$id=r,o}function Bc(t){return typeof t=="object"&&t!==null}function li(t,e){return t=Bc(t)?t:Object.create(null),new Proxy(t,{get(s,r,n){return r==="key"?Reflect.get(s,r,n):Reflect.get(s,r,n)||Reflect.get(e,r,n)}})}function Hc(t,e){return e.reduce((s,r)=>s==null?void 0:s[r],t)}function qc(t,e,s){return e.slice(0,-1).reduce((r,n)=>/^(__proto__)$/.test(n)?{}:r[n]=r[n]||{},t)[e[e.length-1]]=s,t}function Kc(t,e){return e.reduce((s,r)=>{const n=r.split(".");return qc(s,n,Hc(t,n))},{})}function Vc(t,e){return s=>{var r;try{const{storage:n=localStorage,beforeRestore:i=void 0,afterRestore:o=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:l=e.$id,paths:u=null,debug:c=!1}=s;return{storage:n,beforeRestore:i,afterRestore:o,serializer:a,key:((r=t.key)!=null?r:f=>f)(typeof l=="string"?l:l(e.$id)),paths:u,debug:c}}catch(n){return s.debug&&console.error("[pinia-plugin-persistedstate]",n),null}}}function ci(t,{storage:e,serializer:s,key:r,debug:n}){try{const i=e==null?void 0:e.getItem(r);i&&t.$patch(s==null?void 0:s.deserialize(i))}catch(i){n&&console.error("[pinia-plugin-persistedstate]",i)}}function ui(t,{storage:e,serializer:s,key:r,paths:n,debug:i}){try{const o=Array.isArray(n)?Kc(t,n):t;e.setItem(r,s.serialize(o))}catch(o){i&&console.error("[pinia-plugin-persistedstate]",o)}}function Wc(t={}){return e=>{const{auto:s=!1}=t,{options:{persist:r=s},store:n,pinia:i}=e;if(!r)return;if(!(n.$id in i.state.value)){const a=i._s.get(n.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const o=(Array.isArray(r)?r.map(a=>li(a,t)):[li(r,t)]).map(Vc(t,n)).filter(Boolean);n.$persist=()=>{o.forEach(a=>{ui(n.$state,a)})},n.$hydrate=({runHooks:a=!0}={})=>{o.forEach(l=>{const{beforeRestore:u,afterRestore:c}=l;a&&(u==null||u(e)),ci(n,l),a&&(c==null||c(e))})},o.forEach(a=>{const{beforeRestore:l,afterRestore:u}=a;l==null||l(e),ci(n,a),u==null||u(e),n.$subscribe((c,f)=>{ui(f,a)},{detached:!0})})}}var zc=Wc();const Jc="modulepreload",Gc=function(t){return"/"+t},hi={},Nt=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=Gc(l),l in hi)return;hi[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Jc,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,_)=>{f.addEventListener("load",p),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Qc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Nt(async()=>{const{default:r}=await Promise.resolve().then(()=>Ht);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class mn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Yc extends mn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Xc extends mn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zc extends mn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Kr||(Kr={}));var eu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class tu{constructor(e,{headers:s={},customFetch:r,region:n=Kr.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Qc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return eu(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(x=>{throw new Yc(x)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new Xc(c);if(!c.ok)throw new Zc(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield c.json():p==="application/octet-stream"?_=yield c.blob():p==="text/event-stream"?_=c:p==="multipart/form-data"?_=yield c.formData():_=yield c.text(),{data:_,error:null}}catch(n){return{data:null,error:n}}})}}var Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ff(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function su(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var ve={},vn={},rr={},ys={},nr={},ir={},ru=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bt=ru();const nu=Bt.fetch,No=Bt.fetch.bind(Bt),Bo=Bt.Headers,iu=Bt.Request,ou=Bt.Response,Ht=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bo,Request:iu,Response:ou,default:No,fetch:nu},Symbol.toStringTag,{value:"Module"})),au=su(Ht);var or={};Object.defineProperty(or,"__esModule",{value:!0});class lu extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}or.default=lu;var Ho=Pe&&Pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ir,"__esModule",{value:!0});const cu=Ho(au),uu=Ho(or);let hu=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=cu.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,f=null,p=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const R=await i.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=R:c=JSON.parse(R))}const T=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),A=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");T&&A&&A.length>1&&(f=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,p=406,_="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const T=await i.text();try{u=JSON.parse(T),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,_="OK")}catch{i.status===404&&T===""?(p=204,_="No Content"):u={message:T}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,_="OK"),u&&this.shouldThrowOnError)throw new uu.default(u)}return{error:u,data:c,count:f,status:p,statusText:_}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}};ir.default=hu;var fu=Pe&&Pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nr,"__esModule",{value:!0});const du=fu(ir);let pu=class extends du.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};nr.default=pu;var gu=Pe&&Pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ys,"__esModule",{value:!0});const _u=gu(nr);let mu=class extends _u.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};ys.default=mu;var vu=Pe&&Pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rr,"__esModule",{value:!0});const Qt=vu(ys);let yu=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Qt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Qt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Qt.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new Qt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Qt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};rr.default=yu;var ar={},lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.version=void 0;lr.version="0.0.0-automated";Object.defineProperty(ar,"__esModule",{value:!0});ar.DEFAULT_HEADERS=void 0;const bu=lr;ar.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${bu.version}`};var qo=Pe&&Pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vn,"__esModule",{value:!0});const wu=qo(rr),Su=qo(ys),ku=ar;let xu=class Ko{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},ku.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new wu.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ko(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{a.searchParams.append(c,f)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Su.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};vn.default=xu;var qt=Pe&&Pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ve,"__esModule",{value:!0});ve.PostgrestError=ve.PostgrestBuilder=ve.PostgrestTransformBuilder=ve.PostgrestFilterBuilder=ve.PostgrestQueryBuilder=ve.PostgrestClient=void 0;const Vo=qt(vn);ve.PostgrestClient=Vo.default;const Wo=qt(rr);ve.PostgrestQueryBuilder=Wo.default;const zo=qt(ys);ve.PostgrestFilterBuilder=zo.default;const Jo=qt(nr);ve.PostgrestTransformBuilder=Jo.default;const Go=qt(ir);ve.PostgrestBuilder=Go.default;const Qo=qt(or);ve.PostgrestError=Qo.default;var Eu=ve.default={PostgrestClient:Vo.default,PostgrestQueryBuilder:Wo.default,PostgrestFilterBuilder:zo.default,PostgrestTransformBuilder:Jo.default,PostgrestBuilder:Go.default,PostgrestError:Qo.default};const{PostgrestClient:Tu,PostgrestQueryBuilder:Kf,PostgrestFilterBuilder:Vf,PostgrestTransformBuilder:Wf,PostgrestBuilder:zf}=Eu,Ou="2.10.7",Pu={"X-Client-Info":`realtime-js/${Ou}`},Au="1.0.0",Yo=1e4,Cu=1e3;var Mt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Mt||(Mt={}));var ke;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ke||(ke={}));var $e;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($e||($e={}));var Vr;(function(t){t.websocket="websocket"})(Vr||(Vr={}));var bt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(bt||(bt={}));class $u{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Xo{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const fi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=ju(o,t,e,n),i),{})},ju=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Zo(i,o):Wr(o)},Zo=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Du(e,s)}switch(t){case Y.bool:return Ru(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return Iu(e);case Y.json:case Y.jsonb:return Lu(e);case Y.timestamp:return Uu(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Wr(e);default:return Wr(e)}},Wr=t=>t,Ru=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Iu=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Lu=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Du=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Zo(e,a))}return t},Uu=t=>typeof t=="string"?t.replace(" ","T"):t,ea=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class xr{constructor(e,s,r={},n=Yo){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var di;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(di||(di={}));class cs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=cs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=cs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const p=c.map(A=>A.presence_ref),_=f.map(A=>A.presence_ref),x=c.filter(A=>_.indexOf(A.presence_ref)<0),T=f.filter(A=>p.indexOf(A.presence_ref)<0);x.length>0&&(a[u]=x),T.length>0&&(l[u]=T)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const f=e[a].map(_=>_.presence_ref),p=c.filter(_=>f.indexOf(_.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(pi||(pi={}));var gi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(gi||(gi={}));var _i;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(_i||(_i={}));class yn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new xr(this,$e.join,this.params,this.timeout),this.rejoinTimer=new Xo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ke.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on($e.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new cs(this),this.broadcastEndpointURL=ea(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:c})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,_=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,x=[];for(let T=0;T<_;T++){const A=p[T],{filter:{event:R,schema:N,table:U,filter:O}}=A,I=c&&c[T];if(I&&I.event===R&&I.schema===N&&I.table===U&&I.filter===O)x.push(Object.assign(Object.assign({},A),{id:I.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=l.body)===null||n===void 0?void 0:n.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ke.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($e.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new xr(this,$e.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new xr(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=$e;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(_=>{var x,T,A;return((x=_.filter)===null||x===void 0?void 0:x.event)==="*"||((A=(T=_.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(_=>_.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(_=>{var x,T,A,R,N,U;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const O=_.id,I=(x=_.filter)===null||x===void 0?void 0:x.event;return O&&((T=s.ids)===null||T===void 0?void 0:T.includes(O))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const O=(N=(R=_==null?void 0:_.filter)===null||R===void 0?void 0:R.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((U=s==null?void 0:s.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:T,table:A,commit_timestamp:R,type:N,errors:U}=x;p=Object.assign(Object.assign({},{schema:T,table:A,commit_timestamp:R,eventType:N,new:{},old:{},errors:U}),this._getPayloadRecords(x))}_.callback(p,r)})}_isClosed(){return this.state===ke.closed}_isJoined(){return this.state===ke.joined}_isJoining(){return this.state===ke.joining}_isLeaving(){return this.state===ke.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&yn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($e.close,{},e)}_onError(e){this._on($e.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ke.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=fi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=fi(e.columns,e.old_record)),s}}const Mu=()=>{},Fu=typeof WebSocket<"u",Nu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bu{constructor(e,s){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Pu,this.params={},this.timeout=Yo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Mu,this.conn=null,this.sendBuffer=[],this.serializer=new $u,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Nt(async()=>{const{default:l}=await Promise.resolve().then(()=>Ht);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Vr.websocket}`,this.httpEndpoint=ea(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xo(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Fu){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Hu(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Nt(async()=>{const{default:e}=await import("./browser-B9xaZD3m.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Mt.connecting:return bt.Connecting;case Mt.open:return bt.Open;case Mt.closing:return bt.Closing;default:return bt.Closed}}isConnected(){return this.connectionState()===bt.Open}channel(e,s={config:{}}){const r=new yn(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push($e.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Au}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;(o&&o===this.pendingHeartbeatRef||n===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger($e.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Cu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Nu],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Hu{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Mt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class bn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qu extends bn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zr extends bn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Ku=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ta=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Nt(async()=>{const{default:r}=await Promise.resolve().then(()=>Ht);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Vu=()=>Ku(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nt(()=>Promise.resolve().then(()=>Ht),void 0)).Response:Response}),Jr=t=>{if(Array.isArray(t))return t.map(s=>Jr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Jr(r)}),e};var Tt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Er=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Wu=(t,e,s)=>Tt(void 0,void 0,void 0,function*(){const r=yield Vu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new qu(Er(n),t.status||500))}).catch(n=>{e(new zr(Er(n),n))}):e(new zr(Er(t),t))}),zu=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function bs(t,e,s,r,n,i){return Tt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,zu(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Wu(l,a,r))})})}function qs(t,e,s,r){return Tt(this,void 0,void 0,function*(){return bs(t,"GET",e,s,r)})}function rt(t,e,s,r,n){return Tt(this,void 0,void 0,function*(){return bs(t,"POST",e,r,n,s)})}function Ju(t,e,s,r,n){return Tt(this,void 0,void 0,function*(){return bs(t,"PUT",e,r,n,s)})}function Gu(t,e,s,r){return Tt(this,void 0,void 0,function*(){return bs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function sa(t,e,s,r,n){return Tt(this,void 0,void 0,function*(){return bs(t,"DELETE",e,r,n,s)})}var _e=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Qu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yu{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=ta(n)}uploadOrUpdate(e,s,r,n){return _e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},mi),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(oe(i))return{data:null,error:i};throw i}})}upload(e,s,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return _e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:mi.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield f.json();return f.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield rt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new bn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}update(e,s,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return _e(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}copy(e,s,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield rt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return _e(this,void 0,void 0,function*(){try{const n=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}download(e,s){return _e(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield qs(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}})}info(e){return _e(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield qs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Jr(r),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}exists(e){return _e(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Gu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(oe(r)&&r instanceof zr){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return _e(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}list(e,s,r){return _e(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Qu),s),{prefix:e||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Xu="2.7.1",Zu={"X-Client-Info":`storage-js/${Xu}`};var Ct=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class eh{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Zu),s),this.fetch=ta(r)}listBuckets(){return Ct(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(oe(e))return{data:null,error:e};throw e}})}getBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Ct(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Ct(this,void 0,void 0,function*(){try{return{data:yield Ju(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}}class th extends eh{constructor(e,s={},r){super(e,s,r)}from(e){return new Yu(this.url,this.headers,e,this.fetch)}}const sh="2.46.1";let Zt="";typeof Deno<"u"?Zt="deno":typeof document<"u"?Zt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zt="react-native":Zt="node";const rh={"X-Client-Info":`supabase-js-${Zt}/${sh}`},nh={headers:rh},ih={schema:"public"},oh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ah={};var lh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ch=t=>{let e;return t?e=t:typeof fetch>"u"?e=No:e=fetch,(...s)=>e(...s)},uh=()=>typeof Headers>"u"?Bo:Headers,hh=(t,e,s)=>{const r=ch(s),n=uh();return(i,o)=>lh(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var fh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function dh(t){return t.replace(/\/$/,"")}function ph(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>fh(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const ra="2.65.1",gh="http://localhost:9999",_h="supabase.auth.token",mh={"X-Client-Info":`gotrue-js/${ra}`},vi=10,Gr="X-Supabase-Api-Version",na={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function vh(t){return Math.round(Date.now()/1e3)+t}function yh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ce=()=>typeof document<"u",mt={tested:!1,writable:!1},us=()=>{if(!Ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mt.tested)return mt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),mt.tested=!0,mt.writable=!0}catch{mt.tested=!0,mt.writable=!1}return mt.writable};function Tr(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const ia=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Nt(async()=>{const{default:r}=await Promise.resolve().then(()=>Ht);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},bh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",oa=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Os=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ps=async(t,e)=>{await t.removeItem(e)};function wh(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class cr{constructor(){this.promise=new cr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}cr.promiseConstructor=Promise;function yi(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(wh(r))}async function Sh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function kh(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function xh(t){return("0"+t.toString(16)).substr(-2)}function Eh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,xh).join("")}async function Th(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Oh(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ph(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Th(t);return Oh(s)}async function $t(t,e,s=!1){const r=Eh();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await oa(t,`${e}-code-verifier`,n);const i=await Ph(r);return[i,r===i?"plain":"s256"]}const Ah=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ch(t){const e=t.headers.get(Gr);if(!e||!e.match(Ah))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class wn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $h extends wn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function jh(t){return D(t)&&t.name==="AuthApiError"}class aa extends wn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ot extends wn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Ze extends Ot{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rh(t){return D(t)&&t.name==="AuthSessionMissingError"}class Or extends Ot{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends Ot{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cs extends Ot{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bi extends Ot{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qr extends Ot{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Pr(t){return D(t)&&t.name==="AuthRetryableFetchError"}class wi extends Ot{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var Ih=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const yt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lh=[502,503,504];async function Si(t){var e;if(!bh(t))throw new Qr(yt(t),0);if(Lh.includes(t.status))throw new Qr(yt(t),t.status);let s;try{s=await t.json()}catch(i){throw new aa(yt(i),i)}let r;const n=Ch(t);if(n&&n.getTime()>=na["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new wi(yt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ze}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new wi(yt(s),t.status,s.weak_password.reasons);throw new $h(yt(s),t.status||500,r)}const Dh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function F(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Gr]||(i[Gr]=na["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Uh(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Uh(t,e,s,r,n,i){const o=Dh(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Qr(yt(l),0)}if(a.ok||await Si(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Si(l)}}function et(t){var e;let s=null;Bh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=vh(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function ki(t){const e=et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function nt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Mh(t){return{data:t,error:null}}function Fh(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Ih(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Nh(t){return t}function Bh(t){return t.access_token&&t.refresh_token&&t.expires_in}var Hh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class qh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=ia(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:nt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Hh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Fh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(D(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nt})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Nh});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return _.length>0&&(_.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(x.split(";")[1].split("=")[1]);u[`${A}Page`]=T}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nt})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:nt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:nt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(D(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}}const Kh={getItem:t=>us()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{us()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{us()&&globalThis.localStorage.removeItem(t)}};function xi(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Vh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jt={debug:!!(globalThis&&us()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class la extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Wh extends la{}async function zh(t,e,s){jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),jt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Wh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}Vh();const Jh={url:gh,storageKey:_h,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Yt=30*1e3,Ei=3;async function Ti(t,e,s){return await s()}class _s{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_s.nextInstanceID,_s.nextInstanceID+=1,this.instanceID>0&&Ce()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Jh),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new qh({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ia(n.fetch),this.lock=n.lock||Ti,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ce()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=zh:this.lock=Ti,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:us()?this.storage=Kh:(this.memoryStorage={},this.storage=xi(this.memoryStorage)):(this.memoryStorage={},this.storage=xi(this.memoryStorage)),Ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ra}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Ce()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:n,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return D(e)?{error:e}:{error:new aa("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:et}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:f,options:p}=e;let _=null,x=null;this.flowType==="pkce"&&([_,x]=await $t(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:_,code_challenge_method:x},xform:et})}else if("phone"in e){const{phone:c,password:f,options:p}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:et})}else throw new As("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ki})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ki})}else throw new As("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Or}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Os(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:et});if(await Ps(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Or}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:et}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Or}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await $t(this.storage,this.storageKey));const{error:f}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new As("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:et});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await $t(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Mh})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Ze;const{error:n}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await F(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await F(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new As("You must provide either an email or phone number and a type")}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ze}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:nt})})}catch(s){if(D(s))return Rh(s)&&(await this._removeSession(),await Ps(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Ze;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await $t(this.storage,this.storageKey));const{data:u,error:c}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:nt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return yi(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ze;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=yi(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(D(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ze;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!Ce())throw new Cs("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Cs("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new bi("Not a valid PKCE flow url.");const s=Tr(window.location.href);if(e){if(!s.code)throw new bi("No code detected.");const{data:N,error:U}=await this._exchangeCodeForSession(s.code);if(U)throw U;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new Cs(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=s;if(!i||!a||!o||!u)throw new Cs("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let p=c+f;l&&(p=parseInt(l));const _=p-c;_*1e3<=Yt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${f}s`);const x=p-f;c-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,c):c-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,c);const{data:T,error:A}=await this._getUser(i);if(A)throw A;const R={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:s.type},error:null}}catch(s){if(D(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=Tr(window.location.href);return!!(Ce()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Tr(window.location.href),s=await Os(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(jh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ps(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=yh(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await $t(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:p}=i;if(p)throw p;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",_,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Ce()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await kh(async n=>(n>0&&await Sh(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:et})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Pr(i)&&Date.now()+o-r<Yt})}catch(r){if(this._debug(s,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ce()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Os(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+vi;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${vi}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Pr(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Ze;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new cr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ze;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),D(i)){const o={session:null,error:i};return Pr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await oa(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ps(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Yt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Yt}ms, refresh threshold is ${Ei} ticks`),n<=Ei&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof la)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await $t(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(D(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(D(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}_s.nextInstanceID=0;const Gh=_s;class Qh extends Gh{constructor(e){super(e)}}var Yh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Xh{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=dh(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:ih,realtime:ah,auth:Object.assign(Object.assign({},oh),{storageKey:l}),global:nh},c=ph(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=hh(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new Tu(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new tu(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new th(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Yh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){var f;const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qh({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(e){return new Bu(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zh=(t,e,s)=>new Xh(t,e,s);async function ef(){const e=await(await fetch("https://pokeapi.co/api/v2/pokemon?limit=1008")).json();return await Promise.all(e.results.map(async r=>{const i=await(await fetch(r.url)).json(),a=await(await fetch(i.location_area_encounters)).json(),l=sf(a);return{id:i.id,name:i.name.charAt(0).toUpperCase()+i.name.slice(1),generation:tf(i.id),sprite:i.sprites.front_default,locations:l}}))}function tf(t){return t<=151?1:t<=251?2:t<=386?3:t<=493?4:t<=649?5:t<=721?6:t<=809?7:t<=905?8:9}function sf(t){const e={};return t.forEach(s=>{s.version_details.forEach(r=>{const n=rf(r.version.name),i=nf(s.location_area.name);e[n]||(e[n]=[]),e[n].includes(i)||e[n].push(i)})}),e}function rf(t){return t.charAt(0).toUpperCase()+t.slice(1).replace("-"," ")}function nf(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const Sn=Nc("pokemon",{state:()=>({pokemon:[],userId:null,userStatus:{},visibleGenerations:[1,2,3,4],loading:!1,error:null}),getters:{filteredPokemon:t=>t.pokemon.filter(e=>t.visibleGenerations.includes(e.generation)),completionPercentage:t=>()=>{const e=Object.values(t.userStatus),s=t.pokemon.length,r=e.filter(n=>n.caught).length;return s?Math.round(r/s*100):0}},actions:{async fetchPokemon(){this.loading=!0,this.error=null;try{this.pokemon=await ef()}catch(t){this.error="Failed to fetch Pokémon data",console.error("Error fetching Pokémon:",t)}finally{this.loading=!1}},async fetchUserStatus(){if(!this.userId)return;const{data:t,error:e}=await ot.from("caught_pokemon").select("*").eq("user_id",this.userId);if(e){console.error("Error fetching user status:",e);return}this.userStatus=(t==null?void 0:t.reduce((s,r)=>(s[r.pokemon_id]={caught:r.caught,partial:r.partial},s),{}))||{}},async togglePokemonStatus(t,e,s){if(!t){console.error("No user ID available for toggling Pokémon status.");return}const r=this.userStatus[e]||{caught:!1,partial:!1},n={...r,[s]:!r[s]};s==="caught"&&(n.partial=!1),s==="partial"&&(n.caught=!1),this.userStatus[e]=n;try{const{error:i}=await ot.from("caught_pokemon").upsert({user_id:t,pokemon_id:e,caught:n.caught,partial:n.partial},{onConflict:["user_id","pokemon_id"]});if(i)throw i}catch(i){console.error("Error updating Pokémon status:",i),this.userStatus[e]=r}}}}),of=["src","alt"],af={class:"text-lg font-semibold mt-2"},lf={class:"text-sm text-gray-600"},cf={class:"flex gap-2 mt-2"},uf=["disabled"],hf={key:0,class:"loader"},ff=["disabled"],df={key:0,class:"loader"},pf={key:0,class:"mt-2 text-sm text-gray-700 w-full"},gf={class:"text-md font-semibold text-gray-800"},_f={class:"pl-4 list-disc"},mf=Ys({__name:"PokemonCard",props:{pokemon:{},userId:{}},setup(t){const e=t,s=Sn(),r=Ge(!1),n=Ge(!1),i=_n(()=>s.userStatus[e.pokemon.id]||{caught:!1,partial:!1}),o=async l=>{if(!r.value){r.value=!0;try{await s.togglePokemonStatus(e.userId,e.pokemon.id,l)}finally{r.value=!1}}},a=()=>{n.value=!n.value};return(l,u)=>(ee(),ie("div",{class:it(["border rounded-lg p-4 flex flex-col items-center transition-all",{"bg-green-100":i.value.caught,"bg-yellow-100":i.value.partial,"bg-white":!i.value.caught&&!i.value.partial}])},[q("img",{src:l.pokemon.sprite,alt:l.pokemon.name,class:"w-24 h-24"},null,8,of),q("h3",af,je(l.pokemon.name),1),q("p",lf,"Gen "+je(l.pokemon.generation),1),q("div",cf,[q("button",{onClick:u[0]||(u[0]=c=>o("caught")),class:it(["px-2 py-1 rounded flex items-center gap-1",i.value.caught?"bg-green-500 text-white":"bg-gray-200"]),disabled:r.value},[u[2]||(u[2]=Fr(" Caught ")),r.value&&i.value.caught?(ee(),ie("span",hf)):as("",!0)],10,uf),q("button",{onClick:u[1]||(u[1]=c=>o("partial")),class:it(["px-2 py-1 rounded flex items-center gap-1",i.value.partial?"bg-yellow-500 text-white":"bg-gray-200"]),disabled:r.value},[u[3]||(u[3]=Fr(" Partial ")),r.value&&i.value.partial?(ee(),ie("span",df)):as("",!0)],10,ff)]),q("button",{onClick:a,class:"mt-2 text-blue-500 text-sm flex items-center gap-1"},[q("span",null,je(n.value?"Hide":"Show")+" Locations",1),(ee(),ie("svg",{class:it([{"rotate-180":n.value},"h-4 w-4 transition-transform"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},u[4]||(u[4]=[q("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),n.value?(ee(),ie("div",pf,[(ee(!0),ie(me,null,Ns(l.pokemon.locations,(c,f)=>(ee(),ie("div",{key:f,class:"mb-4"},[q("h4",gf,je(f),1),q("ul",_f,[(ee(!0),ie(me,null,Ns(c,p=>(ee(),ie("li",{key:p,class:"text-gray-600"},je(p),1))),128))])]))),128))])):as("",!0)],2))}}),vf={class:"flex flex-wrap gap-2 mb-4"},yf=["onClick"],bf=Ys({__name:"GenerationFilter",setup(t){const e=Sn(),s=[1,2,3,4,5,6,7,8,9];return(r,n)=>(ee(),ie("div",vf,[(ee(),ie(me,null,Ns(s,i=>q("button",{key:i,onClick:o=>Fe(e).toggleGeneration(i),class:it(["px-3 py-1 rounded",Fe(e).visibleGenerations.includes(i)?"bg-blue-500 text-white":"bg-gray-200"])}," Gen "+je(i),11,yf)),64))]))}}),wf={class:"auth-container max-w-md mx-auto mt-12 bg-white shadow-lg rounded-lg p-6"},Sf={class:"mb-4"},kf={class:"mb-6"},xf={key:0,class:"mt-4 text-green-600 text-center font-medium"},Ef={key:1,class:"mt-4 text-red-600 text-center font-medium"},Tf=Ys({__name:"Auth",setup(t){const e=Ge(""),s=Ge(""),r=Ge(""),n=Ge(""),i=async()=>{r.value="",n.value="";const{error:a}=await ot.auth.signInWithPassword({email:e.value,password:s.value});a?r.value=a.message:n.value="Login successful!"},o=async()=>{r.value="",n.value="";const{error:a}=await ot.auth.signUp({email:e.value,password:s.value});a?r.value=a.message:n.value="Signup successful! Please check your email to confirm."};return(a,l)=>(ee(),ie("div",wf,[l[4]||(l[4]=q("h2",{class:"text-2xl font-bold text-center mb-4"},"Pokémon Tracker",-1)),l[5]||(l[5]=q("p",{class:"text-sm text-gray-500 text-center mb-6"}," Track your Pokémon collection! Login or sign up to get started. ",-1)),q("div",Sf,[l[2]||(l[2]=q("label",{for:"email",class:"block text-gray-700 font-medium"},"Email",-1)),Rn(q("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>e.value=u),id:"email",type:"email",placeholder:"Enter your email",class:"w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-300"},null,512),[[ni,e.value]])]),q("div",kf,[l[3]||(l[3]=q("label",{for:"password",class:"block text-gray-700 font-medium"},"Password",-1)),Rn(q("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>s.value=u),id:"password",type:"password",placeholder:"Enter your password",class:"w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-300"},null,512),[[ni,s.value]])]),q("div",{class:"flex gap-4"},[q("button",{onClick:i,class:"w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded transition duration-300"}," Login "),q("button",{onClick:o,class:"w-full bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded transition duration-300"}," Sign Up ")]),n.value?(ee(),ie("div",xf,je(n.value),1)):as("",!0),r.value?(ee(),ie("div",Ef,je(r.value),1)):as("",!0)]))}}),Of=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Pf=Of(Tf,[["__scopeId","data-v-63fab02b"]]),Af={key:1,class:"container mx-auto p-4"},Cf={key:0,class:"text-center py-8"},$f={key:1,class:"text-center py-8"},jf={class:"text-xl text-red-500"},Rf={class:"mb-4"},If={class:"text-xl"},Lf={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4"},Df=Ys({__name:"App",setup(t){var i;const e=Sn(),s=Ge(null),{data:r}=ot.auth.getSession();s.value=((i=r==null?void 0:r.session)==null?void 0:i.user)||null,console.log(s.value),uo(async()=>{var a;await e.fetchPokemon();const{data:o}=await ot.auth.getSession();s.value=((a=o==null?void 0:o.session)==null?void 0:a.user)||null,e.userId=s.value.id,await e.fetchUserStatus()});const n=async()=>{const{error:o}=await ot.auth.signOut();o?console.error("Logout error:",o.message):(s.value=null,e.userId=null,e.userStatus={})};return ot.auth.onAuthStateChange((o,a)=>{setTimeout(async()=>{s.value=(a==null?void 0:a.user)||null,s.value?(e.userId=s.value.id,await e.fetchUserStatus()):(e.userId=null,e.userStatus={})},0)}),(o,a)=>s.value?(ee(),ie("div",Af,[a[1]||(a[1]=q("h1",{class:"text-3xl font-bold mb-4"},"Pokemon Living Dex Tracker",-1)),q("div",{class:"mt-6"},[q("button",{onClick:n,class:"w-full bg-gray-300 hover:bg-gray-400 text-gray-700 font-medium py-2 px-4 rounded transition duration-300"}," Logout ")]),Fe(e).loading?(ee(),ie("div",Cf,a[0]||(a[0]=[q("p",{class:"text-xl"},"Loading Pokemon data...",-1)]))):Fe(e).error?(ee(),ie("div",$f,[q("p",jf,je(Fe(e).error),1)])):(ee(),ie(me,{key:2},[q("div",Rf,[q("p",If," Completion: "+je(Fe(e).completionPercentage(Fe(e).userId))+"% ",1)]),He(bf),q("div",Lf,[(ee(!0),ie(me,null,Ns(Fe(e).filteredPokemon,l=>(ee(),Mr(mf,{key:l.id,pokemon:l,userId:Fe(e).userId},null,8,["pokemon","userId"]))),128))])],64))])):(ee(),Mr(Pf,{key:0}))}}),ca=Ic();ca.use(zc);const ua=Cc(Df),Uf="https://fgqnpxjwnhgukapqywhp.supabase.co",Mf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZncW5weGp3bmhndWthcHF5d2hwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIyODIxMTgsImV4cCI6MjA0Nzg1ODExOH0.QF3-FAAPOHbgMBBpB0Z1_vCe3wf7tTqT1Jn2p-Qd3zo",ot=Zh(Uf,Mf);ua.use(ca);ua.mount("#app");export{Ff as g};
